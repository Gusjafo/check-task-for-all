<%- include("header") %>
  <style>
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Firefox */
    input[type=number] {
      -moz-appearance: textfield;
    }
  </style>

  <div class="conteiner text-center py-2">
    <h1>
      <%= listTitle %>
    </h1>

    <form action="/update" method="post">
      <div class="row m-3 align-items-center gy-5">
        <label for="inputDesc" class="col-sm-2 col-form-label text-end">Descripci√≥n de tarea:</label>
        <div class="col-sm-10 pe-5">
          <input type="text" class="form-control" name="inputDesc" id="inputDesc" autofocus>
        </div>
        <label for="inputTask" class="col-sm-2 col-form-label text-end">Numero de tarea:</label>
        <div class="col-sm-2 pe-5">
          <input type="number" class="form-control" name="inputTask" id="inputTask">
        </div>
      </div>
      <button type="button" id="sendData" class="btn btn-primary m-3">Agregar</button>
      <button type="button" onclick="location.href = '/inicio';" class="btn btn-primary m-3">Volver</button>
    </form>

  </div>

  <footer class="container text-center my-3">
    Copyright 2021 GJF
  </footer>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    let socket = io();
    let saveData = document.getElementById('sendData');
    let descForm = document.getElementById('inputDesc');
    let taskForm = document.getElementById('inputTask');
    saveData.addEventListener('click', function () {
      socket.emit('update msg', descForm.value, taskForm.value);
    });

    socket.on('update msg', function (msg) {
      console.log("volviendo a host " + msg)
      if (msg) {
        location.reload();
      }
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  </body>

  </html>